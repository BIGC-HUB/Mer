var $jscomp={scope:{}};$jscomp.defineProperty="function"==typeof Object.defineProperties?Object.defineProperty:function(a,d,b){if(b.get||b.set)throw new TypeError("ES3 does not support getters and setters.");a!=Array.prototype&&a!=Object.prototype&&(a[d]=b.value)};$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global?global:a};$jscomp.global=$jscomp.getGlobal(this);$jscomp.SYMBOL_PREFIX="jscomp_symbol_";$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.symbolCounter_=0;$jscomp.Symbol=function(a){return $jscomp.SYMBOL_PREFIX+(a||"")+$jscomp.symbolCounter_++};$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var a=$jscomp.global.Symbol.iterator;a||(a=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[a]&&$jscomp.defineProperty(Array.prototype,a,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}});$jscomp.initSymbolIterator=function(){}};$jscomp.arrayIterator=function(a){var d=0;return $jscomp.iteratorPrototype(function(){return d<a.length?{done:!1,value:a[d++]}:{done:!0}})};$jscomp.iteratorPrototype=function(a){$jscomp.initSymbolIterator();a={next:a};a[$jscomp.global.Symbol.iterator]=function(){return this};return a};$jscomp.makeIterator=function(a){$jscomp.initSymbolIterator();var d=a[Symbol.iterator];return d?d.call(a):$jscomp.arrayIterator(a)};var log=console.log.bind(console,"\x3e\x3e\x3e");String.prototype.html=function(){return this.slice(this.indexOf("\x3c")).replace(/>(\s+)</img,"\x3e\x3c")};var c=function(){};c.guaSync=function(a){setTimeout(function(){a()},0)};c.find=function(a){return Array.from(document.querySelectorAll(a))};c.Ajax=function(a){var d={url:a.url,data:JSON.stringify(a.data)||null,sync:void 0===a.sync?!0:!1,method:a.method||"POST",header:a.header||{},contentType:a.contentType||"application/json",callback:a.callback||function(a){console.log("\u8bfb\u53d6\u6210\u529f\uff01")}},b=null,e=new XMLHttpRequest;e.open(d.method,d.url,d.sync);e.setRequestHeader("Content-Type",d.contentType);Object.keys(d.header).forEach(function(a){e.setRequestHeader(a,d.header[a])});e.onreadystatechange=function(){4===e.readyState&&(b=e.response,d.callback(b))};"GET"===d.method?e.send():e.send(d.data);return b};c.Cookie=function(a,d,b){if(void 0===d)for(d=document.cookie.split("; "),d=$jscomp.makeIterator(d),b=d.next();!b.done;b=d.next()){if(b=b.value.split("\x3d"),b[0]===a)return b[1]}else{var e=new Date,f="";Number.isInteger(b)&&(e.setTime(e.getTime()+864E5*b),f=";expires\x3d"+e.toGMTString());document.cookie=a+"\x3d"+encodeURIComponent(d)+f}};var __initTop=function(){var a='\n        \x3ctop data-id\x3d"user" class\x3d"user"\x3e\n            \x3ci class\x3d"iconfont icon-login fa-lg"\x3e\x3c/i\x3e\u767b\u5f55\n        \x3c/top\x3e\n        \x3ctop class\x3d"home"\x3e\x3c/top\x3e\n        \x3ctop data-id\x3d"book" class\x3d"book"\x3e\n            \x3ci class\x3d"iconfont icon-books fa-lg"\x3e\x3c/i\x3e\u4e66\u67b6\n        \x3c/top\x3e'.html();$("#top").html(a)}(),__initMain=function(){var a='\x3clogo\x3e\x3c/logo\x3e\n        \x3cdiv class\x3d"search"\x3e\n            \x3cinput id\x3d"search-input" type\x3d"text" maxlength\x3d"70"\x3e\n            \x3ca\x3e\x3ci class\x3d"fa-1x iconfont icon-xclear"\x3e\x3c/i\x3e\x3c/a\x3e\n            \x3cbutton id\x3d"search-button"\x3e\n                \x3ci class\x3d"fa-lg iconfont icon-search" aria-hidden\x3d"true"\x3e\x3c/i\x3e\n            \x3c/button\x3e\n        \x3c/div\x3e\n        \x3cdiv class\x3d"more"\x3e\n            \x3cul id\x3d"more-ul"\x3e\x3c/ul\x3e\n            \x3cdiv id\x3d"more-i"\x3e\n                \x3cbutton id\x3d"more-button"\x3e\n                    \x3ci class\x3d"fa-1x iconfont icon-down" aria-hidden\x3d"true"\x3e\x3c/i\x3e\n                \x3c/button\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e'.html();$("#search").html(a)}(),__initLogo=function(a){var d=User.engines[a.cls][a.key],b=$("#search-input")[0];d.icon?(d='\x3ci data-cls\x3d"'+a.cls+'" data-key\x3d"'+a.key+'" style\x3d"color:'+d.color+';" class\x3d"fa-5x iconfont icon-'+d.icon+'"\x3e\x3c/i\x3e',"\u5927\u6d77"!=a.key&&(b.placeholder=a.key)):(d='\x3cspan data-cls\x3d"'+a.cls+'" data-key\x3d"'+a.key+'" style\x3d"color:'+d.color+';"\x3e'+a.key+"\x3c/span\x3e",b.placeholder="");$("logo").html(d)},__initBookEngine=function(a){for(var d=$("#"+a),b,e=!0,f="",g=$jscomp.makeIterator(User.def.order[a]),h=g.next();!h.done;h=g.next())h=h.value,e&&(b=h,e=!1),f+='\x3ctag data-kind\x3d"'+a+'" data-cls\x3d"'+h+'"\x3e'+h+"\x3c/tag\x3e";e=Mer.showHtml(a,b);a=('\n    \x3cdiv class\x3d"kind" data-kind\x3d"'+a+'" data-cls\x3d"'+b+'"\x3e'+f+'\x3c/div\x3e\n    \x3cdiv class\x3d"show" data-cls\x3d"'+b+'"  data-key\x3d"'+a+'"\x3e'+e+"\x3c/div\x3e").html();d.html(a)},__init__=function(a){__initLogo(a.def.logo);__initBookEngine("engine");__initBookEngine("book")},Mer={},User={};Mer.load=function(){c.Ajax({url:"user/load",callback:function(a){a=JSON.parse(a);User=a.user;Mer.dengl=a.login;__init__(User);$("body").click();$("#login .text").text(a.text);Mer.dengl&&Mer.login.show(a)}})};Mer.save=function(){Mer.dengl&&c.Ajax({url:"user/save",data:User})};$("#search").on("click","logo",function(){Mer.door.open?window.open(Mer.door.url):($("#search").hide(),$("#engine").show())});$("#top").on("click",".home",function(){"none"===$("#search").css("display")?($("#engine,#book,#login,#edit-cont").hide(),$("#search").show()):($("#search").hide(),$("#engine").show())});$("#top").on("click",".book",function(){"none"===$("#book").css("display")?($("#engine,#search,#login,#edit-cont").hide(),$("#book").show()):$("top.home").click()});$("#top").on("click",".user",function(){"none"===$("#login").css("display")?($("#engine,#search,#book,#edit-cont").hide(),$("#login").show()):$("top.home").click()});Mer.ai={isPC:function(){for(var a=navigator.userAgent,d=$jscomp.makeIterator("Android;iPhone;SymbianOS;Windows Phone;iPad;iPod".split(";")),b=d.next();!b.done;b=d.next())if(0<a.indexOf(b.value))return!1;return!0},moreHtml:"",now:-1,firstUp:!0,soGou:function(a){Mer.ai.now=-1;Mer.ai.firstUp=!0;a="https://www.sogou.com/suggnew/ajajjson?type\x3dweb\x26key\x3d"+encodeURI(a);window.sogou={sug:function(a){a=a[1];if(a.length){for(var b="",d=0;d<a.length;d++)b+='\x3cli data-id\x3d"'+d+'"\x3e'+a[d]+"\x3c/li\x3e";Mer.ai.moreHtml=b;$("#more-ul").html(Mer.ai.moreHtml);$("#more-ul").addClass("more-border");$("#search-input").addClass("more-radius")}else $("#more-ul").html(""),$("#more-ul").removeClass("more-border"),$("#search-input").removeClass("more-radius")}};$("#sug").html("\x3cscript src\x3d"+a+"\x3e\x3c/script\x3e")},UpDn:function(a){Mer.ai.firstUp&&-1===a&&(a=0,Mer.ai.firstUp=!1);var d=Mer.ai.now,b=$("#more-ul li");a=(d+a+b.length)%b.length;Mer.ai.now=a;event.target.value=b[a].innerText;$(b[a]).addClass("li-hover");$(b[d]).removeClass("li-hover")},hide:function(){$("#search-input ~ a").hide();$("#more-ul").html("");$("#more-ul").removeClass("more-border");$("#search-input").removeClass("more-radius")}};Mer.pc=Mer.ai.isPC();$("#search-input").on("blur",function(){768<screen.width&&($("#more-ul").html(""),$("#more-ul").removeClass("more-border"),$("#search-input").removeClass("more-radius"))});$("#search-input").on("focus",function(){$(".fa-mini").remove();$("#more-button").css("color","transparent");Mer.ai.moreHtml&&event.target.value?($("#more-ul").html(Mer.ai.moreHtml),$("#more-ul").addClass("more-border"),$("#search-input").addClass("more-radius")):$("#more-ul").html("")});$("#search-input").on("keyup",function(){13===event.keyCode?$("#search-button").click():38===event.keyCode?Mer.ai.UpDn(-1):40===event.keyCode&&Mer.ai.UpDn(1)});$("#search-input").on("keydown",function(){38===event.keyCode&&event.preventDefault()});$("#more-ul").on("mouseover","li",function(){var a=Mer.ai.now,d=$("#more-ul li"),b=Number(event.target.dataset.id);Mer.ai.now=b;$(d[b]).addClass("li-hover");$(d[a]).removeClass("li-hover")});$("#search-input").on("input",function(){var a=event.target.value;a?(Mer.ai.soGou(a),$("#search-input ~ a").show()):Mer.ai.hide()});$("#search-input ~ a").on("click",function(){event.preventDefault();var a=$("#search-input")[0];a.value="";a.focus();Mer.ai.hide()});Mer.Search=function(a){var d=($("logo i")[0]||$("logo span")[0]).dataset,b="www.baidu.com/s?wd\x3d";User.def&&(d=User.engines[d.cls][d.key],b=d.url,768>screen.width&&d.wap&&(b=d.wap));b+=encodeURI(a);window.open("http://"+b)};Mer.door={url:"",open:!1,show:function(){if(!Mer.door.open){c.Ajax({url:"door",callback:function(){Mer.door.url=url}});var a=$("logo"),d=a.children()[0].dataset;$("#top, #more-button").css("color","#444");a.html('\x3ci style\x3d"color:#193943" class\x3d"fa-5x iconfont icon-door"\x3e\x3c/i\x3e');setTimeout(function(){$("body").one("click",function(){__initLogo(d);$("#top, #more-button").css("color","transparent");$("#search-input")[0].placeholder="";Mer.door.open=!1})},100);Mer.door.open=!0}}};$("#more-ul").on("mousedown","li",function(){Mer.Search(event.target.innerText)});$("#search-button").on("click",function(){var a=$("#search-input")[0];a.value?Mer.Search(a.value):(Mer.door.show(),a.placeholder="\u4efb\u610f\u95e8")});Mer.Mini=function(a,d){$(".fa-mini").remove();var b="",e="",f;for(f in a[d]){var g=a[d][f];g.icon&&"\u5927\u6d77"!=f&&(b+='\x3ci data-cls\x3d"'+d+'" data-key\x3d"'+f+'" class\x3d"fa-mini iconfont icon-'+g.icon+'"\x3e\x3c/i\x3e',e+=".icon-"+g.icon+":hover {color:"+g.color+"}")}$("#more-i").append(b);$("style").html(e)};Mer.Note=function(a){Mer.dengl?($("#more-ul").html('\x3ctextarea id\x3d"more-note"\x3e\x3c/textarea\x3e'),$("#more-note")[0].value=a):$("#more-ul").html("")};$("#more-ul").on("focus","#more-note",function(){$(".fa-mini").fadeOut(618)});$("#more-ul").on("blur","#more-note",function(){User.note=event.target.value;Mer.save()});$("#more-button").on("click",function(){$("#more-button").css("color","black");$("#more-ul").removeClass("more-border");$("#search-input").removeClass("more-radius");User.def&&(Mer.Mini(User.engines,User.def.logo.cls),Mer.Note(User.note))});$("#more-button").on("mouseover",function(){$("#more-button").css("color","#444")});$("#more-i").on("click",".fa-mini",function(){Mer.Engine()});Mer.Engine=function(){var a=event.target.dataset,d=User.engines[a.cls][a.key],b=$("#search-input")[0];d.icon?(d='\x3ci data-cls\x3d"'+a.cls+'" data-key\x3d"'+a.key+'" style\x3d"color:'+d.color+';" class\x3d"fa-5x iconfont icon-'+d.icon+'"\x3e\x3c/i\x3e',b.placeholder=a.key):(d='\x3cspan data-cls\x3d"'+a.cls+'" data-key\x3d"'+a.key+'" style\x3d"color:'+d.color+';"\x3e'+a.key+"\x3c/span\x3e",b.placeholder="");$("logo").html(d);b.focus()};$("#engine").on("click","tag",function(){Mer.tagClick("engine")});$("#engine").on("click","engine",function(){Mer.rest.short&&(Mer.Engine(),$("#engine").hide(),$("top.home").click())});Mer.showHtml=function(a,d){var b=User[a+"s"];d=d||event.target.innerText;var e="",f;for(f in b[d])var g=b[d][f],e=g.icon?e+("\x3c"+a+' data-cls\x3d"'+d+'" data-key\x3d"'+f+'"\x3e\x3ci style\x3d"color:'+g.color+'" class\x3d"fa-logo iconfont icon-'+g.icon+'"\x3e\x3c/i\x3e\x3c/'+a+"\x3e"):e+("\x3c"+a+' data-cls\x3d"'+d+'" data-key\x3d"'+f+'"\x3e\x3cspan style\x3d"color:'+g.color+'"\x3e'+f+"\x3c/span\x3e\x3c/"+a+"\x3e");return e};Mer.tagClick=function(a,d){if(Mer.rest.short){var b=Mer.showHtml(a);a=$("#"+a+" .show")[0];a.innerHTML=b;a.dataset.cls=d||event.target.innerText;a.style.height=""===b?"10em":"auto"}};$("#book").on("click","tag",function(){Mer.tagClick("book")});$("#book").on("click","book",function(){if(Mer.rest.short){var a=event.target.dataset;window.open("http://"+User.books[a.cls][a.key].url)}});var __initLogin=function(){var a='\n        \x3cdiv style\x3d"color: rgba(207,216,230,0.1)" class\x3d"fa-5x iconfont icon-star"\x3e\x3c/div\x3e\n        \x3cdiv class\x3d"text"\x3e\x3c/div\x3e\n        \x3cdiv id\x3d"login-dengl"\x3e\n            \x3cinputbox\x3e\n                \x3ci class\x3d"iconfont icon-login"\x3e\x3c/i\x3e\n                \x3cinput id\x3d"login-name" type\x3d"text" placeholder\x3d"\u540d\u5b57" maxlength\x3d"16"\x3e\n                \x3ci class\x3d"transparent iconfont icon-xclear"\x3e\x3c/i\x3e\n            \x3c/inputbox\x3e\n            \x3cinputbox\x3e\n                \x3ci class\x3d"iconfont icon-lock"\x3e\x3c/i\x3e\n                \x3cinput id\x3d"login-key"  type\x3d"password" placeholder\x3d"\u5bc6\u7801" maxlength\x3d"30"\x3e\n                \x3ci class\x3d"iconfont icon-biyan"\x3e\x3c/i\x3e\n            \x3c/inputbox\x3e\n        \x3c/div\x3e\n        \x3cdiv id\x3d"login-zhuce"\x3e\n            \x3cinputbox\x3e\n                \x3ci class\x3d"iconfont icon-phone"\x3e\x3c/i\x3e\n                \x3cinput id\x3d"login-phone" type\x3d"tel" maxlength\x3d"11" placeholder\x3d"\u624b\u673a"\x3e\n                \x3cspan  id\x3d"login-phone-11"\x3e11\x3c/span\x3e\n            \x3c/inputbox\x3e\n            \x3cinputbox\x3e\n                \x3ci class\x3d"iconfont icon-sms"\x3e\x3c/i\x3e\n                \x3cinput id\x3d"login-sms" type\x3d"tel" maxlength\x3d"4" placeholder\x3d"\u9a8c\u8bc1\u7801"\x3e\n                \x3cspan  id\x3d"login-sms-60"\x3e60\x3c/span\x3e\n            \x3c/inputbox\x3e\n        \x3c/div\x3e\n        \x3cdiv id\x3d"login-information"\x3e\n            \x3cinputbox class\x3d"name"\x3e\n                \x3ci class\x3d"iconfont icon-login"\x3e\x3c/i\x3e\n                \x3cinput type\x3d"text" maxlength\x3d"16"\x3e\n                \x3ci class\x3d"iconfont icon-go"\x3e\x3c/i\x3e\n            \x3c/inputbox\x3e\n            \x3cinputbox class\x3d"phone"\x3e\n                \x3ci class\x3d"iconfont icon-phone"\x3e\x3c/i\x3e\n                \x3cinput type\x3d"tel" maxlength\x3d"11"\x3e\n                \x3ci class\x3d"iconfont icon-go"\x3e\x3c/i\x3e\n            \x3c/inputbox\x3e\n            \x3cbutton class\x3d"enter btn btn-blue" type\x3d"button"\x3e\u8fdb\u5165\x3c/button\x3e\n            \x3cinputbox class\x3d"key"\x3e\n                \x3ci class\x3d"iconfont icon-sms"\x3e\x3c/i\x3e\n                \x3cinput  type\x3d"password" maxlength\x3d"30"\x3e\n                \x3ci class\x3d"iconfont icon-go"\x3e\x3c/i\x3e\n            \x3c/inputbox\x3e\n        \x3c/div\x3e\n        \x3cdiv id\x3d"login-btn"\x3e\n            \x3cbutton class\x3d"zhuce  btn btn-white" type\x3d"button"\x3e\u6ce8\u518c\x3c/button\x3e\n            \x3cbutton class\x3d"dengl btn btn-blue"  type\x3d"button"\x3e\u767b\u5f55\x3c/button\x3e\n        \x3c/div\x3e'.html();$("#login").html(a)}();Mer.login={hide:function(){$("#login-information").hide();$("#login-information input").val("");$("#login-btn, #login-dengl").animate({opacity:"show"});$(".fa-mini").remove();$("#more-ul").html("");Mer.dengl=!1},show:function(a){$("#login-btn, #login-dengl").hide();$("#login-information").animate({opacity:"show"});$("inputbox.phone input").val(a.phone);$("inputbox.name input").val(a.name);$("inputbox.key input").val(a.key);$(".fa-mini").remove();$("#more-ul").html("")}};$("#login input").on("focus",function(){event.target.parentElement.classList.add("theme")});$("#login input").on("blur",function(){event.target.parentElement.classList.remove("theme");for(var a="",d=$jscomp.makeIterator(event.target.value),b=d.next();!b.done;b=d.next())b=b.value,/\u3000/.test(b)||(a+=b);event.target.value=a});$("#login input").on("keydown",function(){/ |\u3000/.test(event.key)&&event.preventDefault()});$("#login-name").on("focus",function(){$("#login .text").text("\u540d\u5b57 | \u624b\u673a\u53f7")});$("#login-name").on("keyup",function(){13===event.keyCode&&$("#login-key").focus();event.target.value?$("#login-name ~ i").removeClass("transparent"):$("#login-name ~ i").addClass("transparent")});$("#login-name ~ i").on("click",function(){$("#login-name")[0].value="";$("#login-name ~ i").addClass("transparent");$("#login-name").focus()});$("#login-key").on("focus",function(){$("#login .text").text("\u8bf7\u8f93\u5165\u5bc6\u7801")});$("#login-key").on("keyup",function(){13===event.keyCode&&$("#login-btn .dengl").click()});$("#login-key ~ i").on("click",function(){var a=$(event.target),d=$("#login-key")[0];"text"===d.type?(d.type="password",a.removeClass("icon-zhengyan")):(d.type="text",a.addClass("icon-zhengyan"))});$("#login-phone").on("focus",function(){$("#login .text").text("\u6ce8\u518c\u624b\u673a\u53f7")});$("#login-phone").on("blur",function(){for(var a="",d=$jscomp.makeIterator(event.target.value),b=d.next();!b.done;b=d.next())b=b.value,/\d/.test(b)&&(a+=b);event.target.value=a;(a=11-a.length)?$("#login-phone-11").text(a):($("#login-phone-11").html('\x3ci class\x3d"sms iconfont icon-go"\x3e\x3c/i\x3e'),$("#login .text").text("\u70b9\u51fb\u53d1\u9001"))});$("#login-phone").on("input",function(){var a=11-$("#login-phone")[0].value.length;$("#login-phone-11").text(a)});$("#login-phone").on("keyup",function(){13===event.keyCode&&event.target.blur()});$("#login-sms").on("focus",function(){$("#login .text").text("\u77ed\u4fe1\u9a8c\u8bc1\u7801")});$("#login-sms").on("blur",function(){for(var a="",d=$jscomp.makeIterator(event.target.value),b=d.next();!b.done;b=d.next())b=b.value,/\d/.test(b)&&(a+=b);event.target.value=a});$("#login-btn .dengl").on("click",function(){var a=function(){$("#login .text").text("\u6b63\u5728\u767b\u5f55\uff0c\u8bf7\u7a0d\u540e");$("#login-btn, #login-dengl").css("pointer-events","none");var a=$("#login-name").val(),b=$("#login-key").val();c.Cookie("name",a,7);c.Cookie("key",b,7);c.Ajax({url:"user/login",callback:function(a){a=JSON.parse(a);$("#login .text").text(a.text);$("#login-btn, #login-dengl").css("pointer-events","auto");a.login&&(User=a.user,Mer.dengl=a.login,__init__(User),Mer.login.show(a))}})};"none"===$("#login-dengl").css("display")?($("#login-zhuce").hide(),$("#login-dengl").animate({height:"show"}),$("#login .text").text("\u8bf7\u8f93\u5165\u540d\u5b57")):""===$("#login-name").val()?$("#login-name").focus():""===$("#login-key").val()?$("#login-key").focus():a()});$("#login-btn .zhuce").on("click",function(){var a=function(){var a=$("#login-phone").val(),b=$("#login-sms").val();c.Ajax({url:"user/join",data:{phone:a,sms:b},callback:function(b){b=JSON.parse(b);b.join?($("#login-sms").val(""),$("#login-phone").val(""),Mer.edit.at=a,$("#edit-val").html('\x3cdiv\x3e\x3cspan\x3e\u540d\u3000\u5b57\x3c/span\x3e\x3cinput class\x3d"name" placeholder\x3d"\u2026"\x3e\x3c/div\x3e'),$("#edit-btn").html('\x3cbutton data-btn\x3d"name" class\x3d"yes btn btn-blue"\x3e\x3cdiv class\x3d"fa-2x iconfont icon-yes"\x3e\x3c/div\x3e\u786e\u8ba4\x3c/button\x3e'),$("#edit .text").text(b.text),$("#edit-cont").animate({height:"show"})):$("#login .text").text(b.text)}})};"none"===$("#login-zhuce").css("display")?($("#login-dengl").hide(),$("#login-zhuce").animate({height:"show"}),$("#login .text").text("\u8bf7\u8f93\u5165\u624b\u673a | \u53d1\u9001\u9a8c\u8bc1\u7801")):11===$("#login-phone").val().length?4===$("#login-sms").val().length?a():$("#login-sms").focus():$("#login-phone").focus()});$("#login-phone-11").on("click",".sms",function(){var a=$("#login-phone"),d=$("#login-phone-11"),b=$("#login-sms-60");c.Ajax({url:"user/join-sms",data:{phone:a.val()},callback:function(e){e=JSON.parse(e);$("#login .text").text(e.text);if(e.send){d.html('\x3ci class\x3d"iconfont icon-more"\x3e\x3c/i\x3e');a.off("blur");a.attr("readonly","readonly");var f=60,g=setInterval(function(){--f;b.text(f);0==f&&(b.text(60),clearInterval(g),a.removeAttr("readonly"),a.on("blur",function(){for(var a="",b=$jscomp.makeIterator(event.target.value),e=b.next();!e.done;e=b.next())e=e.value,/\d/.test(e)&&(a+=e);event.target.value=a;(a=11-a.length)?d.text(a):(d.html('\x3ci class\x3d"sms iconfont icon-go"\x3e\x3c/i\x3e'),$("#login .text").text("\u77ed\u4fe1\u9a8c\u8bc1\u7801"))}))},1E3)}}})});$("#login-information .enter").on("click",function(){Mer.Note(User.note);$("#more-button").css("color","#444");$("top.home").click()});var __initEdit=function(){var a='\n    \x3cdiv id\x3d"edit-full"\x3e\x3c/div\x3e\x3cul id\x3d"edit-ul"\x3e\x3c/ul\x3e\n    \x3cdiv id\x3d"edit-cont"\x3e\n        \x3cdiv class\x3d"tan"\x3e\n            \x3cdiv class\x3d"text"\x3e\x3c/div\x3e\n            \x3cdiv id\x3d"edit-val"\x3e\x3c/div\x3e\n            \x3cdiv id\x3d"edit-btn"\x3e\x3c/div\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e'.html();$("#edit").html(a)}();Mer.edit={init:function(a,d){var b={};b.cls=a.dataset.cls;b.key=a.dataset.key;b.tag=a.dataset.kind||a.localName;"show"===a.className&&(b.tag=a.dataset.key);b.kind=b.tag+"s";b.label="\u5f15\u64ce";a='\n            \x3cdiv\x3e\n                \x3cspan\x3e\u540d\u3000\u5b57\x3c/span\x3e\x3cinput class\x3d"name" placeholder\x3d"\u2026"\x3e\n            \x3c/div\x3e\n            \x3cdiv\x3e\n                \x3cspan\x3e\u7f51\u3000\u5740\x3c/span\x3e\n                \x3ctextarea spellcheck\x3d"false" class\x3d"url" rows\x3d"1" placeholder\x3d"\u2026"\x3e\x3c/textarea\x3e\n            \x3c/div\x3e\n            \x3cdiv class\x3d"half"\x3e\n                \x3cspan\x3e\u989c\u3000\u8272\x3c/span\x3e\n                \x3cinput class\x3d"color" placeholder\x3d"\u2026"\x3e\n            \x3c/div\x3e\n            \x3cdiv class\x3d"half"\x3e\n                \x3cspan\x3e\u56fe\u3000\u6807\x3c/span\x3e\n                \x3cinput class\x3d"icon" placeholder\x3d"\u2026"\x3e\n            \x3c/div\x3e\n            \x3cdiv\x3e\n                \x3cspan\x3e\u79fb\u52a8\u7aef\x3c/span\x3e\n                \x3ctextarea spellcheck\x3d"false" class\x3d"wap" rows\x3d"1" placeholder\x3d"\u2026"\x3e\x3c/textarea\x3e\n            \x3c/div\x3e'.html();var e='\n            \x3cbutton class\x3d"yes btn btn-blue"\x3e\n                \x3cdiv class\x3d"fa-2x iconfont icon-yes"\x3e\x3c/div\x3e\u786e\u8ba4\n            \x3c/button\x3e\n            \x3cbutton class\x3d"no  btn btn-white"\x3e\n                \x3cdiv class\x3d"fa-2x iconfont icon-no"\x3e\x3c/div\x3e\u53d6\u6d88\n            \x3c/button\x3e'.html();b.key?"book"===b.tag&&(a='\n                    \x3cdiv\x3e\n                        \x3cspan\x3e\u540d\u3000\u5b57\x3c/span\x3e\x3cinput class\x3d"name" placeholder\x3d"\u2026"\x3e\n                    \x3c/div\x3e\n                    \x3cdiv\x3e\n                        \x3cspan\x3e\u7f51\u3000\u5740\x3c/span\x3e\n                        \x3ctextarea spellcheck\x3d"false" class\x3d"url" rows\x3d"1" placeholder\x3d"\u2026"\x3e\x3c/textarea\x3e\n                    \x3c/div\x3e\n                    \x3cdiv\x3e\n                        \x3cspan\x3e\u989c\u3000\u8272\x3c/span\x3e\n                        \x3cinput class\x3d"color" placeholder\x3d"\u2026"\x3e\n                    \x3c/div\x3e'.html(),b.label="\u4e66\u7b7e"):(a='\x3cdiv\x3e\x3cspan\x3e\u540d\u3000\u5b57\x3c/span\x3e\x3cinput class\x3d"name" placeholder\x3d"\u2026"\x3e\x3c/div\x3e',b.label="\u5206\u7ec4");d&&(e+='\x3cbutton class\x3d"del btn btn-red"\x3e\x3cdiv class\x3d"fa-2x iconfont icon-del"\x3e\x3c/div\x3e\u5220\u9664\x3c/button\x3e');$("#edit-val").html(a);$("#edit-btn").html(e);$("#edit-cont").animate({height:"show"});return b},show:function(a){var d=Mer.edit.at=event.target;if(a){$("#edit-ul").html(a);a=event.clientX-80;var b=event.clientY;160>window.document.body.offsetWidth-a?a=window.document.body.offsetWidth-165:0>a&&(a=5);$(d).addClass("edit-hover");$("#edit-ul, #edit-full").show();$("#edit-ul").css({top:b+"px",left:a+"px"});setTimeout(function(){$("body").one("click",function(){event.target.classList.contains("edit")?(Mer.edit.hide(d),Mer.edit[event.target.dataset.btn](d)):Mer.edit.hide(d)})},100)}else $("top.home").click()},hide:function(a){$(a).removeClass("edit-hover");$("#edit-ul, #edit-full").hide()},at:{},new:function(a){a=Mer.edit.init(a);$("#edit .text").text("\u6dfb\u52a0\u00b7"+a.label);$("#edit-btn .yes")[0].dataset.btn="new"},amend:function(a){a=Mer.edit.init(a,!0);var d="\u7f16\u8f91\u00b7";if(a.key){var b=User[a.kind][a.cls][a.key];"engine"===a.tag&&(a.key===User.def.logo.key&&a.cls===User.def.logo.cls&&$("#edit-btn .del").hide(),$("#edit-val .wap").val(b.wap),$("#edit-val .icon").val(b.icon));$("#edit-val .color").val(b.color);$("#edit-val .color")[0].style.color=b.color;$("#edit-val .url").val(b.url);$("#edit-val .name").val(a.key)}else d="\u91cd\u547d\u540d\u00b7",$("#edit-cont .name").val(a.cls);$("#edit .text").text(d+a.label);$("#edit-btn .yes")[0].dataset.btn="amend"},move:function(a){a=Mer.edit.init(a);$("#edit .text").text("\u79fb\u52a8\u00b7\u5206\u7ec4");var d="";a=$jscomp.makeIterator(User.def.order[a.tag]);for(var b=a.next();!b.done;b=a.next())d+="\x3ctag\x3e"+b.value+"\x3c/tag\x3e";$("#edit-val").html(d);$("#edit-btn .yes")[0].dataset.btn="move";$("#edit-btn .yes")[0].dataset.move=""},copy:function(a){a.select();document.execCommand("Copy")},select:function(a){a.select()},change:function(a){log("\u4fee\u6539",a.className)},exit:function(){c.Cookie("name","",0);c.Cookie("key","",0);Mer.load();Mer.login.hide()}};Mer.send={tag:$(),del:function(a){var d=a.dataset.kind||a.localName,b=a.dataset.cls,e=a.dataset.key,f=d+"s";if(e)delete User[f][b][e],a.remove(),a=$("#"+d+" .show")[0],0===Object.keys(User[f][b]).length?(a.style.height="10em",a.dataset.cls=b,a.dataset.kind=d):a.style.height="auto",$("#edit-btn .no").click(),f=$("logo i,logo span").data(),f.cls===b&&f.key===e&&__initLogo(User.def.logo),Mer.save();else if(Object.keys(User[f][b]).length)$("#edit .text").html("\u63d0\u793a\uff1a\u7c7b\u4e0d\u4e3a\u7a7a");else if(1===Object.keys(User[f]).length)$("#edit .text").html("\u63d0\u793a\uff1aLivSyrup");else{e=User.def.order[d];for(d=0;d<e.length;d++)b===e[d]&&e.splice(d,1);delete User[f][b];a.remove();$("#edit-btn .no").click();Mer.save()}},new:function(a){var d=a.dataset.cls,b=a.dataset.kind||a.localName,e=a.dataset.key;"show"===a.className&&(b=a.dataset.key);var f=b+"s",g=$("#edit-val .name").val(),h=$("#edit-val .url").val();g?e?h?(e={},"engine"===b?(e.icon=$("#edit-val .icon").val(),e.color=$("#edit-val .color").val(),e.wap=$("#edit-val .wap").val()):e.color=$("#edit-val .color").val(),e.url=$("#edit-val .url").val(),log(),(h=(new Set(Object.keys(User[f][d]))).has(g))?($("#edit .text").text("\u540d\u5b57\u4e0d\u80fd\u91cd\u590d"),$("#edit-cont .name").focus()):(User[f][d][g]=e,"div"!==a.localName&&(a=a.parentElement),$(a).html(Mer.showHtml(b,d)),$("#edit-btn .no").click(),Mer.save())):($("#edit .text").text("\u7f51\u5740\u4e0d\u80fd\u4e3a\u7a7a"),$("#edit-val .url").focus()):(h=(new Set(Object.keys(User[f]))).has(g))?($("#edit .text").text("\u540d\u5b57\u4e0d\u80fd\u91cd\u590d"),$("#edit-cont .name").focus()):(User[f][g]={},"div"!==a.localName&&(a=a.parentElement),$(a).append('\x3ctag data-kind\x3d"'+b+'" data-cls\x3d"'+g+'"\x3e'+g+"\x3c/tag\x3e"),Mer.tagClick(b,g),$("#edit-btn .no").click(),User.def.order[b].push(g),Mer.save()):($("#edit .text").text("\u540d\u5b57\u4e0d\u80fd\u4e3a\u7a7a"),$("#edit-val .name").focus())},amend:function(a){var d=a.dataset.kind||a.localName,b=a.dataset.key,e=a.dataset.cls,f=d+"s",g=$("#edit-cont .name").val(),h=$("#edit-val .url").val();if(g)if(b)if(h){h={};"engine"===d?(h.icon=$("#edit-val .icon").val(),h.color=$("#edit-val .color").val(),h.wap=$("#edit-val .wap").val()):h.color=$("#edit-val .color").val();h.url=$("#edit-val .url").val();var k=(new Set(Object.keys(User[f][e]))).has(g);k?b==g?(User[f][e][g]=h,$(a.parentElement).html(Mer.showHtml(d,e)),$("#edit-btn .no").click(),Mer.save()):($("#edit .text").text("\u540d\u5b57\u4e0d\u80fd\u91cd\u590d"),$("#edit-cont .name").focus()):(User[f][e][g]=JSON.parse(JSON.stringify(User[f][e][b])),delete User[f][e][b],$(a.parentElement).html(Mer.showHtml(d,e)),$("#edit-btn .no").click(),b===User.def.logo.key&&e===User.def.logo.cls&&(User.def.logo.key=g),a=$("logo i,logo span").data(),a.cls===e&&a.key===b&&__initLogo({key:g,cls:e}),Mer.save())}else $("#edit .text").text("\u7f51\u5740\u4e0d\u80fd\u4e3a\u7a7a"),$("#edit-val .url").focus();else if(k=(new Set(Object.keys(User[f]))).has(g))$("#edit .text").text("\u540d\u5b57\u4e0d\u80fd\u91cd\u590d"),$("#edit-cont .name").focus();else{User[f][g]=JSON.parse(JSON.stringify(User[f][e]));delete User[f][e];a.innerText=g;a.dataset.cls=g;a.click();$("#edit-btn .no").click();e===User.def.logo.cls&&(User.def.logo.cls=g);b=User.def.order[d];for(h=0;h<b.length;h++)b[h]===e&&b.splice(h,1,g);Mer.save()}else $("#edit .text").text("\u540d\u5b57\u4e0d\u80fd\u4e3a\u7a7a"),$("#edit-cont .name").focus()},move:function(a){var d=a.dataset.key,b=a.dataset.cls,e=(a.dataset.kind||a.localName)+"s",f=event.target.dataset.move;""===f?$("#edit .text").text("\u9009\u62e9\u00b7\u5206\u7ec4"):f===b?$("#edit-btn .no").click():(b===User.def.logo.cls&&d===User.def.logo.key&&(User.def.logo.cls=f),User[e][f][d]=JSON.parse(JSON.stringify(User[e][b][d])),delete User[e][b][d],a.remove(),$("#edit-btn .no").click(),a=$("logo i,logo span").data(),a.cls===b&&a.key===d&&__initLogo({key:d,cls:f}),Mer.save())},name:function(a){var d=$("#edit-val .name").val();d&&c.Ajax({url:"/user/join-name",data:{name:d,phone:a},callback:function(b){b=JSON.parse(b);b.add?($("#edit-cont").animate({height:"hide"}),$("#login-zhuce").hide(),$("#login-dengl").animate({height:"show"}),$("#login .text").text("\u8bf7\u767b\u5f55\uff0c\u521d\u59cb\u5bc6\u7801\uff1a"+a.slice(-4)),$("#login-key").val(a.slice(-4))):$("#edit .text").text(b.text)}})}};Mer.rest={time:0,short:!0,tag:function(a,d){d=$jscomp.makeIterator(d);for(var b=d.next();!b.done;b=d.next())if(b.value===a.localName)return!0;return!1},cls:function(a,d){d=$jscomp.makeIterator(d);for(var b=d.next();!b.done;b=d.next())if(a.classList.contains(b.value))return!0;return!1},html:function(a){var d="";Mer.rest.tag(a,["book","engine"])?d='\n                \x3cli data-btn\x3d"new"   class\x3d"edit"\x3e\n                    \x3cspan\x3e\u6dfb\u52a0\x3c/span\x3e\n                \x3c/li\x3e\n                \x3cli data-btn\x3d"amend" class\x3d"edit"\x3e\n                    \x3cspan\x3e\u7f16\u8f91\x3c/span\x3e\n                \x3c/li\x3e\n                \x3cli data-btn\x3d"move"  class\x3d"edit"\x3e\n                    \x3cspan\x3e\u79fb\u52a8\x3c/span\x3e\n                \x3c/li\x3e'.html():Mer.rest.tag(a,["tag"])?d='\n                \x3cli data-btn\x3d"new" class\x3d"edit"\x3e\n                    \x3cspan\x3e\u6dfb\u52a0\x3c/span\x3e\n                \x3c/li\x3e\n                \x3cli data-btn\x3d"amend" class\x3d"edit"\x3e\n                    \x3cspan\x3e\u91cd\u547d\u540d\x3c/span\x3e\n                \x3c/li\x3e'.html():Mer.rest.cls(a,["show","kind"])?d='\n                \x3cli data-btn\x3d"new"   class\x3d"edit"\x3e\n                    \x3cspan\x3e\u6dfb\u52a0\x3c/span\x3e\n                \x3c/li\x3e'.html():Mer.rest.tag(a,["textarea","input"])?d='\n                \x3cli data-btn\x3d"copy"   class\x3d"edit"\x3e\n                    \x3cspan\x3e\u590d\u5236\x3c/span\x3e\n                \x3c/li\x3e\n                \x3cli data-btn\x3d"select" class\x3d"edit"\x3e\n                    \x3cspan\x3e\u5168\u9009\x3c/span\x3e\n                \x3c/li\x3e'.html():Mer.rest.cls(a,["name","phone","key"])&&(d='\n                \x3cli data-btn\x3d"change"  class\x3d"edit"\x3e\n                    \x3cspan\x3e\u4fee\u6539\x3c/span\x3e\n                \x3c/li\x3e\n                \x3cli data-btn\x3d"exit" class\x3d"edit"\x3e\n                    \x3cspan\x3e\u9000\u51fa\u767b\u5f55\x3c/span\x3e\n                \x3c/li\x3e'.html());return d}};$("body").on("touchstart",function(){Mer.rest.time=parseInt(event.timeStamp)});$("body").on("touchend",function(){300>parseInt(event.timeStamp)-Mer.rest.time?Mer.rest.short=!0:Mer.rest.short=!1});$("#edit-full").on("click",function(){$(event.target).hide()});$("body").on("click",function(){document.oncontextmenu=function(a){a=a.target;if(Mer.rest.tag(a,["textarea","input"])&&!Mer.pc)return!0;Mer.dengl&&Mer.edit.show(Mer.rest.html(a));return!1};Mer.rest.short||Mer.rest.tag(this,["textarea","input"])||Mer.dengl&&Mer.edit.show(Mer.rest.html(this))});$("#edit-val").on("blur",".name",function(){for(var a="",d=$jscomp.makeIterator(this.value),b=d.next();!b.done;b=d.next())b=b.value,/[/\\. "$]/.test(b)||(a+=b);this.value=a});$("#edit-val").on("blur",".icon",function(){this.value=this.value.toLowerCase()});$("#edit-val").on("blur",".color",function(){var a=this.value.toUpperCase();"#"===a.slice(0,1)&&(event.target.value=a);this.style.color=this.value});$("#edit-val").on("blur","input",function(){for(var a="",d=$jscomp.makeIterator(this.value),b=d.next();!b.done;b=d.next())b=b.value,/ /.test(b)||(a+=b);this.value=a});$("#edit-val").on("blur","textarea",function(){event.target.rows=1;for(var a="",d=$jscomp.makeIterator(event.target.value),b=d.next();!b.done;b=d.next())b=b.value,/ /.test(b)||(a+=b);"http"===a.slice(0,4)&&(event.target.value=a.slice(7),"s"===a.slice(4,5)&&(event.target.value=a.slice(8)))});$("#edit-val").on("input","textarea",function(){var a=event.target;a.value=a.value.replace(/\n| /g,"");a.rows=a.value?parseInt(a.scrollHeight/a.dataset.dif):1});$("#edit-val").on("focus","textarea",function(){var a=event.target,d=a.scrollHeight;a.value+="\n";var d=a.scrollHeight-d,b=a.value.split("");b.splice(-1,1);a.value=b.join("");a.rows=parseInt(a.scrollHeight/d);a.dataset.dif=d;a.select()});$("#edit-val").on("click","tag",function(){Mer.send.tag.remove("edit-hover");Mer.send.tag=event.target.classList;Mer.send.tag.add("edit-hover");$("#edit .text").text(event.target.innerText+"\u00b7\u5206\u7ec4");$("#edit-btn .yes")[0].dataset.move=event.target.innerText});$("#edit-btn").on("click",".yes",function(){Mer.send[event.target.dataset.btn](Mer.edit.at)});$("#edit-btn").on("click",".no",function(){$("#edit-cont").animate({height:"hide"})});$("#edit-btn").on("click",".del",function(){Mer.send.del(Mer.edit.at)});